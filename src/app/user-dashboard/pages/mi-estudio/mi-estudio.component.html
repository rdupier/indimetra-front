<app-navbar></app-navbar>

@if (user()) {
  <section class="text-center py-10 text-textBase">
    <div class="flex flex-col items-center gap-3">
      <img
        [src]="user()?.profileImage || 'assets/icons/default-avatar.svg'"
        alt="Foto de perfil"
        class="w-24 h-24 rounded-full object-cover border border-primary"
      />
      <div>
        <h1 class="text-h6 font-semibold">¡Hola, {{ user()?.username }}!</h1>
        <p class="text-bodyS font-semibold text-primary">
          Este es tu estudio, tu espacio personal donde puedes guardar las obras que más te
          <br />
          inspiran y compartir las tuyas propias con el mundo.
        </p>

        <div class="flex justify-center gap-4 mt-6 flex-wrap">
          <button class="boton-menu flex items-center gap-2" (click)="abrirModalSubida()">
            <img src="assets/icons/upload.svg" alt="Subir" class="w-5 h-5" />
            Subir nueva obra
          </button>

          <a routerLink="gestion-obras" class="boton-menu flex items-center gap-2">
            <img src="assets/icons/ajust.svg" alt="Gestionar" class="w-5 h-5" />
            Gestionar obras
          </a>

          <a routerLink="editar-perfil" class="boton-menu flex items-center gap-2">
            <img src="assets/icons/edit.svg" alt="Editar" class="w-5 h-5" />
            Editar perfil
          </a>
        </div>
      </div>
    </div>
  </section>

  <router-outlet></router-outlet>
} @else {
  <div class="text-center mt-10 text-bodyS text-secondary">Cargando datos del usuario...</div>
}

@if (modalSubida()) {
  <app-upload-modal
    [visible]="true"
    (close)="cerrarModalSubida()"
    (submit)="crearNuevaObra($event)"
  />
}

<app-footer></app-footer>
